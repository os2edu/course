import{r as l,j as o,S as q,i as G,s as U,a as T,R as M,b as _,c as u,F,M as $,D as V,d as b,I as S,B as j,m as H,e as Z,L as W,u as L,f as A,g as Y,h as J,k as K,O as Q,l as X,n as ee,o as te}from"./vendor.48e1e332.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerpolicy&&(s.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?s.credentials="include":r.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();var C=(e=>(e.STUDENT="1",e.TEACHER="2",e.VISITOR="3",e.TUTOR="4",e.ADMIN="5",e.PARENT="6",e))(C||{});const oe="https://ssl.cdn.maodouketang.com/Fn2y9zZHL6Cp7tLDsUq5b1kF7S88",y=btoa("rcore-user-info"),Re={[C.STUDENT]:"student",[C.TEACHER]:"teacher",[C.TUTOR]:"ta",[C.ADMIN]:"admin",[C.VISITOR]:"visitor",[C.PARENT]:"parent"},se=(e,t)=>{switch(t.type){case"LOGIN":return{...e,currentUser:t.payload};case"LOGOUT":return{...e,currentUser:void 0};case"UPDATE_MY_COURSES":return{...e,myRegisters:t.payload};case"UPDATE_LOGIN_DIALOG_VISIBLE":return{...e,loginDialogVisible:t.payload};default:throw new Error(`[count-context] Unhandled action type: ${t.type}`)}},E={currentUser:{phone:localStorage.getItem(y)},myRegisters:[],loginDialogVisible:!1},ne=()=>E,O=l.exports.createContext({state:E,dispatch:ne});function re(e){const[t,n]=l.exports.useReducer(se,E);return o(O.Provider,{value:{state:t,dispatch:n},...e})}const v=()=>{const e=l.exports.useContext(O);if(e===void 0)throw new Error("useCount must be used with a CountProvider");return e};const ae=e=>o("div",{className:"loading-container",children:o(q,{tip:"\u6570\u636E\u52A0\u8F7D\u4E2D...",size:"small",...e})}),ie="modulepreload",le=function(e){return"/course/"+e},R={},I=function(t,n,a){if(!n||n.length===0)return t();const r=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=le(s),s in R)return;R[s]=!0;const c=s.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(!!a)for(let h=r.length-1;h>=0;h--){const k=r[h];if(k.href===s&&(!c||k.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${d}`))return;const i=document.createElement("link");if(i.rel=c?"stylesheet":ie,c||(i.as="script",i.crossOrigin=""),i.href=s,document.head.appendChild(i),c)return new Promise((h,k)=>{i.addEventListener("load",h),i.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>t())};const ce=(e,t)=>{if(G(t[0]))return U(t,n=>{const[a,r]=T(n);return e>=a&&e<=r});{const[n,a]=T(t);return e>=n&&e<=a}},ue=(e,t,n)=>{let a=~~(Math.random()*(e-t+1)+t);if(n)for(;ce(a,n);)a=~~(Math.random()*(e-t+1)+t);return a},f=(e,t,n,a)=>{let r=[];for(let s=0;s<n;s++)r=r.concat(ue(e,t,a));return r},x=4,de=e=>{const[t,n,a]=e;return`rgb(${t}, ${n}, ${a})`},N=()=>({nums:f(122,48,x,[[58,64],[91,96]]),rotate:f(50,-50,x),fontSize:f(12,20,x),color:[f(100,255,3),f(100,255,3),f(100,255,3),f(100,255,3)]}),me=l.exports.forwardRef((e,t)=>{const[n,a]=l.exports.useState(N());return l.exports.useImperativeHandle(t,()=>({getCodes:()=>n.nums,getCodesAsString:r=>{const s=n.nums.map(c=>String.fromCharCode(c)).join("");return r?s.toLowerCase():s}}),[n]),o("div",{className:"verification-code-box",onClick:()=>a(N()),children:n.nums.map((r,s)=>o("span",{style:{color:de(n.color[s]),fontSize:n.fontSize[s],transform:`rotate(${n.rotate[s]}deg)`},children:String.fromCharCode(r)},s))})}),B=M.forwardRef((e,t)=>{const{children:n,symbol:a,className:r="",...s}=e;return o("svg",{...s,className:`icon ${r}`,"aria-hidden":"true",ref:t,children:o("use",{xlinkHref:`#${a}`})})}),pe="http://111.207.111.194:12437",m=_.create({baseURL:pe});m.interceptors.response.use(function(e){return e.data},function(e){return Promise.reject(e)});m.interceptors.request.use(function(e){return e},function(e){return Promise.reject(e)});const he="https://admin.maodouketang.com:8443",w=_.create({baseURL:he});w.interceptors.response.use(function(e){return e.data},function(e){return Promise.reject(e)});w.interceptors.request.use(function(e){return e},function(e){return Promise.reject(e)});const p=385,D=2e3;async function Ne(){return(await w("/seller/api/homepages",{params:{"clientId.equals":p}}))[0]}async function _e(e){const t=e?`/seller/api/coursesget/getAllCoursesByConditionsWithTotal?page=0&size=18&clientId=${p}&tag=hot&isDelete=1&sort=courseIndex,asc`:`/seller/api/coursesget/getAllCoursesByConditionsWithTotal?page=0&size=100&isDelete=1&clientId=${p}&sort=courseIndex,asc`;return await m(t)}async function Le(e,t=0){return await m("/seller/api/students/getAllCourseByStudentWithTotal",{params:{page:t,phone:e,size:20,sort:"id,desc"}})}async function Oe(e){return(await m("/seller/api/courses",{params:{"clientId.equals":p,"courseId.equals":e}}))[0]}async function De(){return await w(`/seller/api/teachers/getAllTeachersByConditionsWithTotal?page=0&size=6&clientId=${p}`)}async function Pe(e){return await m("/seller/api/students",{params:{"clientId.equals":p,"courseId.equals":e,size:D}})}async function ze(e){return await m("/seller/api/course-classes",{params:{"clientId.equals":p,"courseId.equals":e,size:D,sort:"startAt,desc"}})}async function qe(e){return await m("/seller/api/students",{method:"POST",data:e})}async function ge(e){return await m("/seller/api/students",{params:{"clientId.equals":p,"phone.equals":e}})}async function Ge(e){const{roomId:t,startTime:n,endTime:a}=e;return await m("/analysis/api/room-actions/getRoomActionsWithTotalNumByConditionsTime",{params:{roomId:t,startTime:new Date(n).toJSON(),endTime:new Date(a).toJSON(),clientId:p,page:0,size:200,actionType:"CHAT"}})}const fe=()=>{const{state:{currentUser:e},dispatch:t}=v(),n=l.exports.useCallback(async()=>{if(e!=null&&e.phone){const a=await ge(e==null?void 0:e.phone);t({type:"UPDATE_MY_COURSES",payload:a})}},[e==null?void 0:e.phone]);l.exports.useEffect(()=>{n()},[n])};function Ce(){const e=navigator.userAgent||navigator.vendor||window.opera;return{mobile:()=>/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))}}const be=()=>{const[e,t]=l.exports.useState();return l.exports.useEffect(()=>{const n=Ce();t(n)},[]),e},P=e=>{const[t,n]=l.exports.useState(!1),[a,r]=l.exports.useState(),{state:{currentUser:s},dispatch:c}=v(),d=i=>{n(!0),r(i),c({type:"LOGIN",payload:{phone:i}})},g=l.exports.useCallback(()=>{const i=localStorage.getItem(y);i&&d(i)},[]);return l.exports.useEffect(()=>{g()},[g]),l.exports.useEffect(()=>{s!=null&&s.phone?(n(!0),r(s.phone)):t&&(n(!1),r(void 0))},[t,s==null?void 0:s.phone]),e?[t,a]:[t]},ye=()=>{const{dispatch:e}=v();return l.exports.useCallback(()=>{localStorage.removeItem(y),e({type:"LOGOUT"})},[])},ke=/^(13[0-9]|14[579]|15[0-3,5-9]|16[6]|17[0135678]|18[0-9]|19[0-9])\d{8}$/,xe=e=>{const t=l.exports.useRef(),[n,a]=l.exports.useState(!0),[r]=b.useForm();return u(b,{form:r,className:"normal-form",onFinish:c=>{var d;c.code.length===x&&c.code.toLowerCase()===((d=t.current)==null?void 0:d.getCodesAsString(!0))?e.onSubmit(c.phone):a(!1)},autoComplete:"off",size:"large",children:[o("h3",{children:"\u8BF7\u4F7F\u7528\u624B\u673A\u53F7\u767B\u5F55"}),o(b.Item,{name:"phone",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7"},{pattern:ke,message:"\u8BF7\u8F93\u5165\u6B63\u786E\u624B\u673A\u53F7"}],children:o(S,{placeholder:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7"})}),o(b.Item,{name:"code",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801"}],help:n?void 0:"\u9A8C\u8BC1\u7801\u8F93\u5165\u9519\u8BEF",validateStatus:n?void 0:"error",children:o(S,{placeholder:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801",addonAfter:o(me,{ref:t})})}),o(b.Item,{children:o(j,{style:{width:"100%"},type:"primary",htmlType:"submit",children:"\u767B\u5F55"})}),u("span",{children:["\u767B\u5F55\u5373\u4EE3\u8868\u9605\u8BFB\u5E76\u540C\u610F ",o("span",{style:{color:"#3db477"},children:"\u300A\u670D\u52A1\u534F\u8BAE\u548C\u9690\u79C1\u653F\u7B56\u300B"})]})]})},z=({isMobile:e})=>{const{state:{currentUser:t,loginDialogVisible:n},dispatch:a}=v();P();const r=i=>{a({type:"UPDATE_LOGIN_DIALOG_VISIBLE",payload:i})},s=i=>{a({type:"LOGIN",payload:{phone:i}})},c=()=>{a({type:"LOGOUT"})},d=i=>{localStorage.setItem(y,i),H.success("\u767B\u5F55\u6210\u529F\uFF0C\u6B22\u8FCE\u56DE\u6765!"),r(!1),s(i)};return t!=null&&t.phone?o(V,{overlayClassName:"user-dropdown-menus",overlay:o(Z,{onClick:({key:i})=>{i==="logout"&&(localStorage.removeItem(y),c())},items:[{key:"myCourse",label:o(W,{to:"/myCourse",children:"\u6211\u7684\u8BFE\u7A0B"})},{key:"logout",label:o("span",{children:"\u9000\u51FA\u767B\u5F55"})}]}),placement:"bottomRight",arrow:!0,children:e?o(B,{symbol:"icon-user"}):u("span",{className:"user-info not-link",children:[t.phone,o("img",{width:30,src:oe,alt:"avatar"})]})}):u(F,{children:[e?o(B,{symbol:"icon-user",onClick:()=>r(!0)}):o("span",{className:"nav-link",onClick:()=>r(!0),children:"\u767B\u5F55"}),o($,{width:350,open:n,footer:null,onCancel:()=>r(!1),maskClosable:!1,children:o(xe,{onSubmit:d})})]})},ve=({isMobile:e})=>{const t=L();return o("header",{className:"main-header",children:u("div",{className:"header-content content",children:[u("a",{href:"/homepage/",children:[o("img",{src:"https://ssl.cdn.maodouketang.com/Fpkgonzaw5GTUFa0Bfvd_ZlO5yq1",alt:"logo"}),o("span",{className:"action-item",children:"\u793E\u533A"})]}),u("span",{onClick:()=>t("//"),children:[o(B,{symbol:"icon-home"}),"\u9996\u9875"]}),u("span",{children:[o(z,{isMobile:e}),"\u6211\u7684"]})]})})},Ie=()=>o("footer",{children:u("div",{className:"content",children:[u("div",{className:"footer-info",children:[u("section",{children:[o("div",{className:"sub-title",children:"\u5F00\u6E90\u64CD\u4F5C\u7CFB\u7EDF\u793E\u533A"}),o("div",{className:"sub-items",children:o("span",{children:"\u4FC3\u8FDB\u64CD\u4F5C\u7CFB\u7EDF\u7684\u6559\u5B66\u3001\u7814\u7A76\u4E0E\u4EA7\u4E1A\u7684\u53D1\u5C55"})})]}),u("section",{children:[o("div",{className:"sub-title",children:"\u8D44\u6E90\u94FE\u63A5"}),o("div",{className:"sub-items",children:A([{text:"Rust\u57FA\u7840\u6559\u7A0B",link:"http://docs.os2edu.cn/"},{text:"\u6E05\u534ErCore\u64CD\u4F5C\u7CFB\u7EDF\u5B9E\u8DF5\u6559\u7A0B",link:"http://rcore-os.cn/rCore-Tutorial-Book-v3/"},{text:"\u5168\u56FD\u5927\u5B66\u751F\u64CD\u4F5C\u7CFB\u7EDF\u8BBE\u8BA1\u5927\u8D5B",link:"https://os.educg.net/2022CSCC"}],({text:e,link:t})=>o("div",{children:o("a",{href:t,children:e})},t))})]}),u("section",{children:[o("div",{className:"sub-title",children:"\u8054\u7CFB\u6211\u4EEC"}),o("div",{className:"sub-items",children:A([{label:"\u7535\u8BDD",text:"13691584139"},{label:"\u90AE\u7BB1",text:"hello@maodou.io"},{label:"\u5730\u5740",text:"\u5317\u4EAC\u5E02\u6D77\u6DC0\u533A\u6E05\u534E\u79D1\u6280\u56ED\u79D1\u6280\u5927\u53A6C\u5EA7G05"}],({label:e,text:t})=>u("div",{children:[u("span",{children:[e,"\uFF1A"]}),t]},e))})]})]}),o("a",{className:"record-number",href:"https://beian.miit.gov.cn/#/Integrated/index",children:"\u5317\u4EAC\u6E05\u534E\u5927\u5B66\xB7\u4EACICP\u590716045052\u53F7-11"})]})});const we=()=>{const e=Y(),t=L(),n=e.pathname==="/",a=!0,[r,s]=P(a),c=ye(),d=be(),g=!!(d!=null&&d.mobile());fe();const i=u("div",{className:"custom-course-nav",children:[o("span",{className:"nav-common-link nav-link",onClick:()=>t("/"),children:"\u8BFE\u7A0B\u57F9\u8BAD"}),o("span",{className:"nav-common-link nav-link",onClick:()=>window.open("http://tasks.os2edu.cn/pc/"),children:"\u4EFB\u52A1\u4E2D\u5FC3"})]});let h={customRender:u(F,{children:[i,o(z,{})]})};return r&&(h={customRender:i,userInfo:{phone:s},dropMenu:[{key:"myCourse",title:"\u6211\u7684\u8BFE\u7A0B",onClick(){t("/myCourse")}},{key:"logout",title:"\u9000\u51FA\u767B\u5F55",onClick(){c()}}]}),o(J,{headerProps:{title:"\u5F00\u6E90\u64CD\u4F5C\u7CFB\u7EDF\u793E\u533A",logo:"https://ssl.cdn.maodouketang.com/Fpkgonzaw5GTUFa0Bfvd_ZlO5yq1",extra:h},className:`container ${g?"container-mobile":""}`,children:u(F,{children:[g&&o(ve,{isMobile:!0}),o(K,{children:o(Q,{})}),n&&o(Ie,{})]})})},Fe=l.exports.lazy(()=>I(()=>import("./index.b529dea4.js"),["assets/index.b529dea4.js","assets/vendor.48e1e332.js","assets/vendor.c9ec0796.css","assets/index.7af89cf0.js","assets/index.b2d9a3f8.css","assets/index.758e8626.css"])),Be=l.exports.lazy(()=>I(()=>import("./index.469be160.js"),["assets/index.469be160.js","assets/vendor.48e1e332.js","assets/vendor.c9ec0796.css","assets/index.df70dc33.css"])),Ee=l.exports.lazy(()=>I(()=>import("./index.da4c22fc.js"),["assets/index.da4c22fc.js","assets/vendor.48e1e332.js","assets/vendor.c9ec0796.css","assets/index.7af89cf0.js","assets/index.b2d9a3f8.css","assets/index.7ade5cd7.css"])),Te=l.exports.lazy(()=>I(()=>import("./index.1cd9de37.js"),["assets/index.1cd9de37.js","assets/vendor.48e1e332.js","assets/vendor.c9ec0796.css","assets/index.50b575a2.css"])),Se=X([{path:"/",element:o(we,{}),children:[{index:!0,element:o(Fe,{})},{path:"/:id",element:o(Be,{})},{path:"/:id/replay/:replayId",element:o(Te,{})},{path:"myCourse",element:o(Ee,{})}]}],{basename:"/course"});ee.createRoot(document.getElementById("root")).render(o(re,{children:o(l.exports.Suspense,{fallback:o("div",{style:{display:"flex",width:"100vw",height:"100vh"},children:o(ae,{size:"large",tip:"\u9875\u9762\u52A0\u8F7D\u4E2D...",delay:500})}),children:o(te,{router:Se})})}));export{pe as B,C as E,B as I,ae as L,Re as R,y as U,De as a,_e as b,be as c,Oe as d,Pe as e,ze as f,Ne as g,Le as h,Ge as i,qe as r,v as u};
